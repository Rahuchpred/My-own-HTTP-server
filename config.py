"""Configuration constants for the custom HTTP server."""

import os

HOST: str = "127.0.0.1"
PORT: int = int(os.getenv("PORT", "8080"))
HTTPS_PORT: int = 8443
BUFFER_SIZE: int = 1024
READ_CHUNK_SIZE: int = 4096
WRITE_CHUNK_SIZE: int = 16_384
STATIC_DIR: str = "static"
SOCKET_TIMEOUT_SECS: int = 5
MAX_REQUEST_BYTES: int = 1_048_576
MAX_HEADER_BYTES: int = 16_384
MAX_BODY_BYTES: int = 524_288
MAX_TARGET_LENGTH: int = 2048
WORKER_COUNT: int = 16
REQUEST_QUEUE_SIZE: int = 1024
KEEPALIVE_TIMEOUT_SECS: int = 10
MAX_KEEPALIVE_REQUESTS: int = 1000
MAX_ACTIVE_CONNECTIONS: int = 2048
SELECT_TIMEOUT_SECS: float = 0.1
IDLE_SWEEP_INTERVAL_SECS: float = 1.0
SHUTDOWN_POLL_INTERVAL_SECS: float = 0.1
SERVER_NAME: str = "CustomHTTPServer/2.0"
SERVER_ENGINE: str = "threadpool"
ENABLE_CHUNKED_REQUESTS: bool = True
ENABLE_CHUNKED_RESPONSES: bool = True
ENABLE_EXPECT_CONTINUE: bool = True
ENABLE_TLS: bool = False
TLS_CERT_FILE: str = "certs/dev-cert.pem"
TLS_KEY_FILE: str = "certs/dev-key.pem"
REDIRECT_HTTP_TO_HTTPS: bool = True
DRAIN_TIMEOUT_SECS: float = 5.0
LOG_FORMAT: str = "plain"
ENABLE_PLAYGROUND: bool = True
STATE_FILE: str = "data/server_state.json"
HISTORY_LIMIT: int = 500
MAX_MOCK_BODY_BYTES: int = 262_144
MAX_MOCK_ROUTES: int = 200
ENABLE_SCENARIOS: bool = True
SCENARIO_STATE_FILE: str = "data/scenarios_state.json"
MAX_SCENARIOS: int = 100
MAX_STEPS_PER_SCENARIO: int = 50
MAX_ASSERTIONS_PER_STEP: int = 20
DEFAULT_CHAOS_SEED: int = 1337
ENABLE_LIVE_EVENTS: bool = True
EVENT_BUFFER_SIZE: int = 5000
EVENT_HEARTBEAT_SECS: int = 5
CLI_REFRESH_MS_DEFAULT: int = 100
ENABLE_TARGET_PROXY: bool = True
TARGET_STATE_FILE: str = "data/targets_state.json"
MAX_TARGETS: int = 50
DEMO_TOKEN: str = os.getenv("DEMO_TOKEN", "")
REQUIRE_DEMO_TOKEN: bool = os.getenv("REQUIRE_DEMO_TOKEN", "false").lower() == "true"
PUBLIC_BASE_URL: str = os.getenv("PUBLIC_BASE_URL", "")
METRICS_BACKEND: str = os.getenv("METRICS_BACKEND", "sqlite")
METRICS_SQLITE_FILE: str = os.getenv("METRICS_SQLITE_FILE", "data/metrics.sqlite3")
METRICS_RETENTION_DAYS: int = int(os.getenv("METRICS_RETENTION_DAYS", "30"))
METRICS_FLUSH_INTERVAL_SECS: int = int(os.getenv("METRICS_FLUSH_INTERVAL_SECS", "10"))
AUTH_USERS_FILE: str = os.getenv("AUTH_USERS_FILE", "data/auth_users.json")
SESSION_TTL_MINUTES: int = int(os.getenv("SESSION_TTL_MINUTES", "480"))
LIVE_EVENTS_REQUIRE_SELECTORS: bool = True
ENABLE_INCIDENT_MODE: bool = True
INCIDENT_DEFAULT_PROBABILITY: float = 0.5
INCIDENT_DEFAULT_LATENCY_MS: int = 2000
INCIDENT_MAX_LATENCY_MS: int = 10000
DEBUG: bool = True
